(self.webpackChunkformlyui=self.webpackChunkformlyui||[]).push([[908],{1908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KissSurveyCreatorModule:()=>H});var o=n(8583),r=n(3423);class i{constructor(e,t,n,o){this.index=e,this.title=n,this.type=t,this.id=null!=o?o:this.generateGUID()}generateGUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}}var s=n(7716),l=n(3679),c=n(6215),a=(()=>(function(e){e.Radio="radio",e.Checkbox="checkbox",e.Text="text",e.Textarea="textarea",e.Number="number",e.Likert3="likert3",e.Likert5="likert5"}(a||(a={})),a))();const u=[{label:"Texto libre",controls:[{value:a.Text,label:"Text",icon:"text"},{value:a.Textarea,label:"Textarea",icon:"textarea"}]},{label:"N\xfamero/cantidad",controls:[{value:a.Number,label:"Number",icon:"number"}]},{label:"Alternativas",controls:[{value:a.Radio,label:"Radio",icon:"radio"},{value:a.Checkbox,label:"Checkbox",icon:"checkbox"}]},{label:"N\xfamero",controls:[]},{label:"Likert",controls:[{value:a.Likert3,label:"3-Likert",icon:"select"},{value:a.Likert5,label:"5-Likert",icon:"select"}]}];var p=n(5887),d=n(6704),m=n(5485),f=n(4762),h=n(6182),z=n(946),g=n(8178);function x(e,t){if(1&e&&(s.ynx(0),s._uU(1),s.BQk()),2&e){const e=s.oxw(2);s.xp6(1),s.Oqu(e.nzText)}}function y(e,t){if(1&e&&(s.TgZ(0,"span",1),s.YNc(1,x,2,1,"ng-container",2),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("nzStringTemplateOutlet",e.nzText)}}let T=(()=>{class e{constructor(e){this.elementRef=e,this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1,this.elementRef.nativeElement.classList.add("ant-divider")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["nz-divider"]],hostVars:16,hostBindings:function(e,t){2&e&&s.ekj("ant-divider-horizontal","horizontal"===t.nzType)("ant-divider-vertical","vertical"===t.nzType)("ant-divider-with-text",t.nzText)("ant-divider-plain",t.nzPlain)("ant-divider-with-text-left",t.nzText&&"left"===t.nzOrientation)("ant-divider-with-text-right",t.nzText&&"right"===t.nzOrientation)("ant-divider-with-text-center",t.nzText&&"center"===t.nzOrientation)("ant-divider-dashed",t.nzDashed)},inputs:{nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain",nzText:"nzText"},exportAs:["nzDivider"],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(e,t){1&e&&s.YNc(0,y,2,1,"span",0),2&e&&s.Q6J("ngIf",t.nzText)},directives:[o.O5,g.f],encapsulation:2,changeDetection:0}),(0,f.gn)([(0,h.yF)()],e.prototype,"nzDashed",void 0),(0,f.gn)([(0,h.yF)()],e.prototype,"nzPlain",void 0),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[z.vT,o.ez,g.T]]}),e})();var b=n(4453),Z=n(9374),q=n(4514),A=n(5127);function w(e,t){if(1&e&&s._UZ(0,"nz-option",11),2&e){const e=t.$implicit;s.Q6J("nzValue",e.value)("nzLabel",e.label)}}function J(e,t){if(1&e&&(s.TgZ(0,"nz-option-group",9),s.YNc(1,w,1,2,"nz-option",10),s.qZA()),2&e){const e=t.$implicit;s.Q6J("nzLabel",e.label),s.xp6(1),s.Q6J("ngForOf",e.controls)}}let L=(()=>{class e{constructor(e){this.formBuilder=e,this.optionChanged=new s.vpe,this.controlTypes$=new c.X(u),this.form=this.buildForm()}ngOnInit(){}buildForm(){return this.formBuilder.group({controlType:["",[l.kI.required]]})}addQuestion(){const{controlType:e}=this.form.value;if(e){const t=this.controlTypes$.getValue().find(t=>t.controls.find(t=>t.value==e)).controls.find(t=>t.value==e);this.optionChanged.emit(t)}}get controlType(){return this.form.controls.controlType}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.qu))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-kiss-survey-selector"]],outputs:{optionChanged:"optionChanged"},decls:13,vars:7,consts:[[1,"w-full","rounded","border-2","border-gray-300","border-dashed"],["nz-form","","nz-row","",1,"items-center",3,"formGroup"],["nz-col","","nzFlex","auto",1,"mt-6"],["nzFor","controlType",3,"nzSpan"],[3,"nzSpan"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Escoge un tipo de pregunta","formControlName","controlType","name","controlType","id","controlType"],[3,"nzLabel",4,"ngFor","ngForOf"],["nz-button","","nzType","primary","nz-col","","nzFlex","100px",1,"m-6",3,"disabled","click"],["nz-icon","","nzType","plus"],[3,"nzLabel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"form",1),s.TgZ(2,"nz-form-item",2),s.TgZ(3,"nz-form-label",3),s._uU(4,"Tipo de pregunta"),s.qZA(),s.TgZ(5,"nz-form-control",4),s.TgZ(6,"nz-select",5),s.YNc(7,J,2,2,"nz-option-group",6),s.ALo(8,"async"),s._UZ(9,"nz-divider"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return t.addQuestion()}),s._UZ(11,"i",8),s._uU(12," A\xf1adir "),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("formGroup",t.form),s.xp6(2),s.Q6J("nzSpan",6),s.xp6(2),s.Q6J("nzSpan",14),s.xp6(2),s.Q6J("ngForOf",s.lcZ(8,5,t.controlTypes$)),s.xp6(3),s.Q6J("disabled",!t.controlType.value))},directives:[l._Y,l.JL,p.Lr,d.SK,l.sg,p.Nx,d.t3,p.iK,p.Fd,m.Vq,l.JJ,l.u,o.sg,T,b.ix,Z.dQ,q.w,A.Ls,m.Yy,m.Ip],pipes:[o.Ov],styles:[""],changeDetection:0}),e})();var C=n(7519),k=n(7674);let F=(()=>{class e{constructor(e,t){this.formBuilder=e,this.cdRef=t,this.form=this.buildForm()}ngOnInit(){this.form.disable(),this.cdRef.detectChanges()}buildForm(){return this.formBuilder.group({input:["",[l.kI.required]]})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.qu),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-kiss-input"]],decls:4,vars:1,consts:[["nz-form","",3,"formGroup"],[1,"w-full"],["nz-input","","type","text","formControlName","input","placeholder","La respuesta del encuestado se escribe en este campo"]],template:function(e,t){1&e&&(s.TgZ(0,"form",0),s.TgZ(1,"nz-form-item"),s.TgZ(2,"nz-form-control",1),s._UZ(3,"input",2),s.qZA(),s.qZA(),s.qZA()),2&e&&s.Q6J("formGroup",t.form)},directives:[l._Y,l.JL,p.Lr,l.sg,d.SK,p.Nx,d.t3,p.Fd,k.Zp,l.Fj,l.JJ,l.u],styles:[""],changeDetection:0}),e})(),O=(()=>{class e{constructor(e,t){this.formBuilder=e,this.cdRef=t,this.form=this.buildForm()}ngOnInit(){this.form.disable(),this.cdRef.detectChanges()}buildForm(){return this.formBuilder.group({input:["",[l.kI.required]]})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.qu),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-kiss-textarea"]],decls:4,vars:1,consts:[["nz-form","",3,"formGroup"],[1,"w-full"],["nz-input","","rows","4","formControlName","input","placeholder","La respuesta del encuestado se escribe en este campo"]],template:function(e,t){1&e&&(s.TgZ(0,"form",0),s.TgZ(1,"nz-form-item"),s.TgZ(2,"nz-form-control",1),s._UZ(3,"textarea",2),s.qZA(),s.qZA(),s.qZA()),2&e&&s.Q6J("formGroup",t.form)},directives:[l._Y,l.JL,p.Lr,l.sg,d.SK,p.Nx,d.t3,p.Fd,k.Zp,l.Fj,l.JJ,l.u],styles:[""],changeDetection:0}),e})(),Q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-kiss-survey-header"]],decls:2,vars:0,template:function(e,t){1&e&&(s.TgZ(0,"p"),s._uU(1,"kiss-survey-header works!"),s.qZA())},styles:[""]}),e})();var S,B,U;const _=["dynamicComponent"];function N(e,t){if(1&e&&s._UZ(0,"nz-option",15),2&e){const e=t.$implicit;s.Q6J("nzValue",e.value)("nzLabel",e.label)}}function Y(e,t){if(1&e&&(s.TgZ(0,"nz-option-group",13),s.YNc(1,N,1,2,"nz-option",14),s.qZA()),2&e){const e=t.$implicit;s.Q6J("nzLabel",e.label),s.xp6(1),s.Q6J("ngForOf",e.controls)}}function I(e,t){}class V{constructor(e,t){this.formBuilder=e,this.componentFactory=t,S.add(this),this.controlTypes$=new c.X(u),this.form=this.buildForm()}ngOnInit(){this.controlType&&this.form.controls.controlType.setValue(this.controlType.type.value)}ngAfterViewInit(){this.controlType&&(0,f.Q_)(this,S,"m",B).call(this,this.form.controls.controlType.value),(0,f.Q_)(this,S,"m",U).call(this)}ngOnDestroy(){this.controlTypeSubscription&&this.controlTypeSubscription.unsubscribe()}buildForm(){return this.formBuilder.group({question:["",[l.kI.required]],controlType:["",[l.kI.required]]})}get questionControl(){return this.form.controls.question}get title(){return this.questionControl.value?`${this.index}. ${this.questionControl.value}`:`${this.index}. (Pregunta por definir)`}}function j(e,t){if(1&e&&s._UZ(0,"app-kiss-survey-item",3),2&e){const e=t.index;s.Q6J("controlType",t.$implicit)("index",e+1)}}S=new WeakSet,B=function(e){var t;let n=null;switch(e){case a.Text:n=F;break;case a.Textarea:n=O;break;default:n=Q}if(this.dynamicComponentRef){this.dynamicComponentRef.clear();const e=this.componentFactory.resolveComponentFactory(n);(null===(t=this.dynamicComponentRef)||void 0===t?void 0:t.createComponent(e)).instance.ngOnInit()}},U=function(){this.controlTypeSubscription=this.form.controls.controlType.valueChanges.pipe((0,C.x)()).subscribe(e=>{(0,f.Q_)(this,S,"m",B).call(this,e)})},V.\u0275fac=function(e){return new(e||V)(s.Y36(l.qu),s.Y36(s._Vd))},V.\u0275cmp=s.Xpm({type:V,selectors:[["app-kiss-survey-item"]],viewQuery:function(e,t){if(1&e&&s.Gf(_,5,s.s_b),2&e){let e;s.iGM(e=s.CRH())&&(t.dynamicComponentRef=e.first)}},inputs:{controlType:"controlType",index:"index"},decls:22,vars:9,consts:[[1,"w-full","rounded","border-2","border-gray-300","border-dashed","flex-col","gap-6","justify-items-stretch"],[1,"m-6"],[1,"text-xl","font-semibold","text-gray-700"],["nz-form","","nz-row","",1,"items-start","m-6",3,"formGroup","nzLayout"],["nz-col","","nzFlex","1"],["nzFor","question"],[1,"w-full"],[3,"nzMaxCharacterCount"],["rows","2","placeholder","Escriba la pregunta en este campo","nz-input","","formControlName","question",3,"nzBorderless"],["nzFor","controlType"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Escoge un tipo de pregunta","formControlName","controlType","name","controlType","id","controlType",3,"nzAllowClear"],[3,"nzLabel",4,"ngFor","ngForOf"],["dynamicComponent",""],[3,"nzLabel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h1",2),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"form",3),s.TgZ(5,"nz-form-item",4),s.TgZ(6,"nz-form-label",5),s._uU(7,"Pregunta"),s.qZA(),s.TgZ(8,"nz-form-control",6),s.TgZ(9,"nz-textarea-count",7),s._UZ(10,"textarea",8),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"nz-form-item",4),s.TgZ(12,"nz-form-label",9),s._uU(13,"Tipo de pregunta"),s.qZA(),s.TgZ(14,"nz-form-control",6),s.TgZ(15,"nz-select",10),s.YNc(16,Y,2,2,"nz-option-group",11),s.ALo(17,"async"),s._UZ(18,"nz-divider"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",1),s.YNc(20,I,0,0,"ng-template",null,12,s.W1O),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Oqu(t.title),s.xp6(1),s.Q6J("formGroup",t.form)("nzLayout","vertical"),s.xp6(5),s.Q6J("nzMaxCharacterCount",100),s.xp6(1),s.Q6J("nzBorderless",!1),s.xp6(5),s.Q6J("nzAllowClear",!1),s.xp6(1),s.Q6J("ngForOf",s.lcZ(17,7,t.controlTypes$)))},directives:[l._Y,l.JL,p.Lr,d.SK,l.sg,p.Nx,d.t3,p.iK,p.Fd,k.w,k.Zp,l.Fj,l.JJ,l.u,m.Vq,o.sg,T,m.Yy,m.Ip],pipes:[o.Ov],styles:[""],changeDetection:0});const D=[{path:"",pathMatch:"full",redirectTo:"creator"},{path:"creator",component:(()=>{class e{constructor(){this.questionList=[]}ngOnInit(){}onOptionChanged(e){console.log(e);const t=new i(this.questionList.length+1,e);-1===this.questionList.indexOf(t)&&this.questionList.push(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-kiss-survey-creator"]],decls:3,vars:1,consts:[[1,"inner-nocolor"],[3,"optionChanged"],[3,"controlType","index",4,"ngFor","ngForOf"],[3,"controlType","index"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"app-kiss-survey-selector",1),s.NdJ("optionChanged",function(e){return t.onOptionChanged(e)}),s.qZA(),s.YNc(2,j,1,2,"app-kiss-survey-item",2),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngForOf",t.questionList))},directives:[L,o.sg,V],styles:[""]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.Bz.forChild(D)],r.Bz]}),e})();var X=n(1210);let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,l.UX,m.LV,p.U5,v,b.sL,d.Jb,k.o7,X.v],o.ez,l.UX,m.LV,p.U5,v,b.sL,d.Jb,k.o7,X.v]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[$]]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[$]]}),e})(),K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,l.UX,p.U5,k.o7,X.v]]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,l.UX,p.U5,k.o7,X.v]]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,K,M],K,M]}),e})(),H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,R,G,P,E]]}),e})()}}]);